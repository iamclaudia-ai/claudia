{
  // Claudia Gateway Configuration
  // Copy to claudia.json and customize

  "gateway": {
    "port": 30086,
    "host": "localhost"
  },

  "session": {
    // Default session settings (can be overridden per-request)
    "thinking": false,
    // Adaptive thinking effort: "low" | "medium" | "high" | "max"
    "effort": "medium",
    "systemPrompt": null // Or path to file: "./prompts/system.md"
  },

  "extensions": {
    // Core Chat extension (workspace/session UI + health)
    "chat": {
      "enabled": true,
      "outOfProcess": true,
      "config": {}
    },

    // Mission Control extension (health dashboard + logs)
    "mission-control": {
      "enabled": true,
      "outOfProcess": true,
      "config": {}
    },

    // Voice Extension - ElevenLabs TTS
    "voice": {
      "enabled": true,
      "config": {
        "apiKey": "${ELEVENLABS_API_KEY}",
        "dictionaryId": "${CARTESIA_DICTIONARY_ID}",
        "voiceId": "${ELEVENLABS_VOICE_ID}",
        "model": "eleven_turbo_v2_5",
        "autoSpeak": false,
        "summarizeThreshold": 150
      }
    },

    // Hooks Extension — lightweight event handlers (git-status, cost-tracker, etc.)
    // Loads hooks from ~/.claudia/hooks/ and ./hooks/
    "hooks": {
      "enabled": true,
      "config": {}
    },

    // Memory Extension — transcript ingestion + conversation grouping
    // Phase 1: Watches JSONL session logs, ingests into SQLite, detects conversation gaps
    // Phase 2: Libby processes completed conversations into durable memories
    "memory": {
      "enabled": false,
      "config": {
        "watchPath": "~/.claude/projects",
        "watch": true,
        "conversationGapMinutes": 60,
        "pollIntervalMs": 30000,
        "minConversationMessages": 5,
        "timezone": "America/New_York",
        "model": "claude-sonnet-4-6",
        "processBatchSize": 10,
        "autoProcess": false
      }
    },

    // DOMINATRIX — Browser control via Chrome extension
    // Chrome extension connects to gateway WS and bridges commands to content scripts
    // Install: load clients/dominatrix/dist/ as unpacked extension in Chrome
    "dominatrix": {
      "enabled": true,
      "config": {}
    },

    // iMessage Extension - requires macOS with Messages signed in
    // Uses `imsg` CLI: brew install steipete/tap/imsg
    "imessage": {
      "enabled": false,
      "config": {
        "cliPath": "imsg", // Path to imsg CLI (default: "imsg")
        "dbPath": null, // Messages DB path (default: ~/Library/Messages/chat.db)
        "allowedSenders": ["claudia@iamclaudia.ai"], // ONLY process messages from these senders
        "includeAttachments": false,
        "historyLimit": 0 // Include N recent messages as context (0 = disabled)
      }
    },

    // Slack Extension (example)
    "slack": {
      "enabled": false,
      "sourceRoutes": ["slack"], // Handles "slack/*" sources
      "config": {
        "botToken": "${SLACK_BOT_TOKEN}",
        "appToken": "${SLACK_APP_TOKEN}"
      }
    }
  },

  "federation": {
    // Multi-gateway federation (future)
    "enabled": false,
    "nodeId": "laptop",
    "peers": [
      {
        "id": "anima-sedes",
        "url": "ws://anima-sedes:30086/ws",
        "role": "primary"
      }
    ]
  }
}
